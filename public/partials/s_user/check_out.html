


	<div ng-class="num_stores>1? 'mid_content check_out_page different_shipping' :'mid_content check_out_page'" > 

        <div class="container_inner clearfix">
            <ul class="breadcrumbs">
                        <li ng-repeat="path in pathTorch"><a ng-href="{{path.poth}}">{{path.label}}</a></li>
            </ul>
            <h2 class="dsktp_hide page_title">Checkout</h2>




            <aside class="left_sidebar">
                <div class="dropdown_wrap">
                    <form>
                           <div class="defaultSt"> 
						  <select data-ng-model="browser_action" data-ng-change="browser_method(browser_action)">
							<option value="Go Back">Go Back</option>
							<option value="Last Search">Last Search</option>
                            <option value="Last Shop">Last Shop</option>
                            <option value="Last Item">Last Item</option>
							<option value="Dashboard">Dashboard</option>
                           </select>
				           </div> 		
						
                    </form>
                </div>
              
            <div class="recent_view">
                <h3>RECENTLY VIEWED</h3>
                <ul class="recentview_list defaultScroll" mcustom-scroll="{ 'theme': theme, 'autoHide': autoHide }">
                    <li ng-repeat="arrObj in recentItems">
                        <div ng-repeat="arrItem in arrObj.timestamp">

                            <div class="product-image mini">
                                <div class="p_image_innner">
                                    <img ng-src="{{arrItem.image_url}}"
                                         title="{{arrItem.keyword}}  by {{arrItem.merchant}}">
                                    <div class="rateit">
                                        <div class="rateis r{{arrItem.rateAvg| makePositive}}">
                                        </div>
                                    </div>
                                    <a class="quick-product" data-toggle="modal" data-target="#quick-popup"
                                       ng-click="set_current_product_common_sim('','','','',arrItem)">+</a>
                                </div>
                            </div>
                            <div class="caption"><a ng-click="menuShopApi('',arrItem.merchant)"> {{ arrItem.keyword | limitTo: 20 }}{{arrItem.keyword.length > 20 ? '...' : ''}}</a>
                            </div>


                        </div>
                    </li>

                </ul>

                <div class="bottom_link"><a class="red-link" ng-click="continue_shopping()">CONTINUE SHOPPING</a></div>
            </div>


               <div class="recent_view saved">
                <h3>SAVED</h3>


                <ul ng-class="loggedin ==1?'recentview_list defaultScroll':'falseclass'" ng-repeat="(wsitekey,item) in twotap_wishlist_cart.sites track by $index" mcustom-scroll="{ 'theme': theme, 'autoHide': autoHide }">
                    <li ng-repeat="(prokey,proMd5) in item.add_to_cart track by $index">


                        <div class="product-image mini">
                            <div class="p_image_innner">
                                <img ng-src="{{proMd5.image}}" title="{{proMd5.title}}  by {{item.info.name}}">
                                <div class="rateit">
                                    <div class="rateis r{{proMd5.rateAvg| makePositive}}">
                                    </div>
                                </div>
                                <a class="quick-product" data-toggle="modal" data-target="#quick-popup" ng-click="set_current_product_pro_update(proMd5,item,prokey,wsitekey,'wish','add')">+</a>
                            </div>
                        </div>
                        <div class="caption"><a ng-href="{{proMd5.lnk}}">{{proMd5.title| limitTo: 20}}{{proMd5.title.length > 20 ? '...' : ''}}</a></div>
                    </li>
					  <li ng-repeat="(prokey,proMd5) in item.failed_to_add_to_cart track by $index">


                        <div class="product-image mini">
                            <div class="p_image_innner">
                                <img ng-src="{{proMd5.image}}" title="{{proMd5.title}}  by {{item.info.name}}">
                                <div class="rateit">
                                    <div class="rateis r{{proMd5.rateAvg| makePositive}}">
                                    </div>
                                </div>
                                <a class="quick-product" data-toggle="modal" data-target="#quick-popup" ng-click="set_current_product_pro_update(proMd5,item,prokey,wsitekey,'wish','failed')">+</a>
                            </div>
                        </div>
                        <div class="caption"><a ng-href="{{proMd5.lnk}}">{{proMd5.title| limitTo: 20}}{{proMd5.title.length > 20 ? '...' : ''}}</a></div>
                    </li>
					

                </ul>

                <div class="bottom_link"><a ng-click="gotoSaved()" class="red-link goTarget">SAVED ITEMS</a></div>
            </div>
               
                <!-- end user -->
            </aside>
            <section class="content" ng-class='{1:"ss_loading"}[ss_cart_load]'>
                

				<div class="content_inner">
                    <div class="content_left">
                        <div class="order_box">
                            <div class="placeOrder_wrap">
                                <input type="button" value="Place your order" class="btn red_btn placeOrder">
                                <div class="popUp">
                                    <div class="btn btn_gray">REVIEW SHIPPING &amp; BILLING</div>
                                    <div class="btn btn_gray" ng-click="twotapPurchaseConfirm()">COMPLETE PURCHASE</div>
                                </div>
                            </div>
                           <div class="order_total" ng-class="failed_sub_total== 0? '' : 'falseClass'">Order Total: <span class="price">{{estimated_price_totals.final_price }}</span></div>
							<div class="order_total" ng-class="failed_sub_total> 0 && estimated_price_totals== undefined ? '': 'falseClass'">Order Total: <span class="price">{{ failed_sub_total  | currency:'$':true:'1.2-2' }}</span></div>
							<div class="order_total" ng-class="failed_sub_total> 0 && estimated_price_totals!= undefined ? '': 'falseClass'">Order Total: <span class="price">{{(estimated_price_totals.final_price.substring(1) *1.0 + failed_sub_total) | currency:'$':true:'1.2-2' }}</span></div>
					 

					   </div>
						
					   <div ng-if="!ck_all">Currently Checking Out {{cur_merchant}} Only</div>

						
						<div ng-repeat="(wsitekey,item) in twotap_builtin_cart.sites track by $index">
							<div ng-class="num_stores>1? 'falseClass' :'form_wrap'"> 
						  <!--  <span id="rev"></span> -->

								<h2>Shipping</h2>
								<div class="form_wrap_inner">
									<div class="btn grey_btn changeBtn">Update</div>
									<div class="f_row">
										<label>Email:</label>
										<div class="f_field editable">
											<span>{{twotap_builtin_cart.shipping.email}}</span>
											<input type="text" ng-model="twotap_builtin_cart.shipping.email" placeholder="" >
										</div>
									</div>
									<div class="f_row">
										<label>First Name:</label>
										<div class="f_field editable">
											<span>{{twotap_builtin_cart.shipping.firstname}}</span>
											<input type="text" ng-model="twotap_builtin_cart.shipping.firstname" placeholder="">
										</div>
									</div>
									<div class="f_row">
										<label>Last Name:</label>
										<div class="f_field editable">
											<span>{{twotap_builtin_cart.shipping.lastname}}</span>
											<input type="text" ng-model="twotap_builtin_cart.shipping.lastname" placeholder="">
										</div>
									</div>
									<div class="f_row">
										<label>Address:</label>
										<div class="f_field editable">
											<div class="input_line">
												<span>{{twotap_builtin_cart.shipping.address1}}</span>
												<input type="text" ng-model="twotap_builtin_cart.shipping.address1" placeholder="">
											</div>
											<div class="input_line">
												<span> {{twotap_builtin_cart.shipping.address2}}</span>
												<input type="text" placeholder="" ng-model="twotap_builtin_cart.shipping.address2" >
											</div>
										</div>
									</div>
									<div class="f_row">
										<label>City:</label>
										<div class="f_field editable">
											<span>{{twotap_builtin_cart.shipping.city}}</span>
											<input type="text" ng-model="twotap_builtin_cart.shipping.city" placeholder="">
										</div>
									</div>
									<div class="f_row">
										<label>State:</label>
										<div class="f_field editable">
											<span>{{twotap_builtin_cart.shipping.state}}</span>
											<div class="dropdown_wrap">
											   <div class="defaultSt"> 
												<select ng-model="twotap_builtin_cart.shipping.state">
												   <!-- <option value="Texas">Texas</option> -->
													<!-- <option value="Armed Forces Europe">Armed Forces Europe</option> -->
													<!-- <option value="AS">AS</option> -->
													<!-- <option value="AZ">AZ</option> -->
													<!-- <option value="Al">Al</option> -->
													<!-- <option value="CF">CF</option> -->
													<!-- <option value="NE">NE</option> -->
												    <option value="{{state}}" ng-repeat="state in country_state[twotap_builtin_cart.shipping.country] track by $index">{{state}}</option>

												
												</select>
												</div>                                        
										   </div>
										</div>
									</div>
									<div class="f_row">
										<label>Zip Code:</label>
										<div class="f_field editable">
											<span>{{twotap_builtin_cart.shipping.zip}}</span>
											<input type="text" ng-model="twotap_builtin_cart.shipping.zip" placeholder="">
										</div>
									</div>
								  
									<div class="f_row">
										<label>Country:</label>
										<div class="f_field editable">
											<span title="Not Supported Shipping Country" ng-class="item.shipping_countries_support.indexOf(twotap_builtin_cart.shipping.country)> -1? '' : 'invalidField'">{{twotap_builtin_cart.shipping.country}}</span>
											
											<div ng-class="item.shipping_countries_support.indexOf(twotap_builtin_cart.shipping.country)> -1? 'dropdown_wrap' : 'dropdown_wrap invalidField'">
										  
											   <div class="defaultSt">  
													<select ng-model="twotap_builtin_cart.shipping.country">
														<!-- <option value="Australia">Australia</option> -->
														<!-- <option value="Canada">Canada</option> -->
														<!-- <option value="Ireland">Ireland</option> -->
														<!-- <option value="Japan">Japan</option> -->
														<!-- <option value="United Kingdom">UK</option> -->
														<!-- <option value="United States of America">USA</option> -->
													   <option value="{{country}}" ng-repeat="(country,state) in country_state track by $index">{{country}}</option>

													</select>
												</div> 
											  
											</div>
										</div>
									</div>
								
									<div class="f_row">
										<label>Phone:</label>
										<div class="f_field editable">
											<span>{{twotap_builtin_cart.shipping.phone}}</span>
											<input type="text" ng-model="twotap_builtin_cart.shipping.phone" placeholder="">
										</div>
									</div>
								
								
								
								
								</div>
							</div>

						<div ng-class="num_stores>1? 'falseClass' :'form_wrap'"> 
						<h2>Billing</h2>
						<div class="form_wrap_inner">
							<div class="btn grey_btn changeBtn">Update</div>

							<div class="f_row">
								<label>Name On Card:</label>
								 <div class="f_field">
									<input type="text" ng-model="twotap_builtin_cart.card.name" placeholder="Name On Card">
								</div>
							</div>

							<div class="f_row gateway_name">
								<label>Card Type:</label>
								<div class="f_field">
									<div>
										<input type="radio" id="cpay1" name="cp_gateway" value="Visa" ng-model="twotap_builtin_cart.card.type">
										<label for="cpay1"><img src="images/visa_icon.png" title="Visa Card"></label>
									</div>
									<div>
										<input type="radio" id="cpay2" name="cp_gateway" value="Mastercard" ng-model="twotap_builtin_cart.card.type">
										<label for="cpay2"><img src="images/master_card.png" title="Master Card" ></label>
									</div>
									<div>
										<input type="radio" id="cpay3" name="cp_gateway" value="American Express" ng-model="twotap_builtin_cart.card.type">
										<label for="cpay3"><img src="images/american_express.png" title="American Express" ></label>
									</div>
<!--                                       <div>
										<input type="radio" id="pay4" name="p_gateway" ng-model="twotap_builtin_cart.card.type">
										<label for="pay4"><img src="images/visa_icon.png" title="Visa Card"></label>
									</div> -->
								</div>
							</div>


							<div class="f_row">
								<label>Card No:</label>
								
									<div ng-class="twotap_builtin_cart.card_valid==0? 'f_field invalidField' :'f_field'">
									     <input type="text" value="" placeholder="Enter a Valid Card No" ng-model="twotap_builtin_cart.card.card_number" ng-blur="card_validate(twotap_builtin_cart,twotap_builtin_cart.card.card_number)">
									</div>
							</div>

								

							<div class="f_row">
								<label>Expiry Month:</label>
								<div class="f_field">
									<div class="dropdown_wrap">
									   <div class="defaultSt"> 
										<select ng-model="twotap_builtin_cart.card.month" >
											<option value="">Month</option>
											<option value="01">1</option>
											<option value="02">2</option>
											<option value="03">3</option>
											<option value="04">4</option>
											<option value="05">5</option>
											<option value="06">6</option>
											<option value="07">7</option>
											<option value="08">8</option>
											<option value="09">9</option>
											<option value="10">10</option>
											<option value="11">11</option>
											<option value="12">12</option>
										</select>
										</div>
									</div>
								</div>
							</div>
							<div class="f_row">
								<label>Expiry Year:</label>
								<div class="f_field">
									<div class="dropdown_wrap">
										<div class="defaultSt">                                            
									   <select ng-model="twotap_builtin_cart.card.year" >
											<option value="">Year</option>
											<option value="2022">2022</option>
											<option value="2021">2020</option>
											<option value="2019">2019</option>
											<option value="2018">2018</option>
											<option value="2017">2017</option>
											<option value="2016">2016</option>
										</select>
									   </div>                                      
								   </div>
								</div>
							</div>

						

							<div class="f_row cc_value">
								<label>CCV:</label>
								<div class="f_field">
									<input type="text" placeholder="" value="" ng-model="twotap_builtin_cart.card.cvv">
								</div>
							</div>
							


							<div class="f_row">
								<label>First Name:</label>
								<div class="f_field editable">
									<span ng-bind="twotap_builtin_cart.billing.firstname"></span>
									<input type="text" placeholder="Billing First Name" ng-model="twotap_builtin_cart.billing.firstname">
								</div>
							</div>
							<div class="f_row">
								<label>Last Name:</label>
								<div class="f_field editable">
									<span ng-bind="twotap_builtin_cart.billing.lastname"></span>
									<input type="text" ng-model="twotap_builtin_cart.billing.lastname" placeholder="Billing Last Name">
								</div>
							</div>
							<div class="f_row">
								<label>Billing Address:</label>
								<div class="f_field editable">
									<div class="input_line">
										<span ng-bind="twotap_builtin_cart.billing.address1"></span>
										<input type="text" ng-model="twotap_builtin_cart.billing.address1" placeholder="">
									</div>
									<div class="input_line">
										<span ng-bind="twotap_builtin_cart.billing.address2"></span>
										<input type="text" ng-model="twotap_builtin_cart.billing.address2" placeholder="">
									</div>
								</div>
							</div>
							<div class="f_row">
								<label>City:</label>
								<div class="f_field editable">
									<span>{{twotap_builtin_cart.billing.city}}</span>
									<input type="text" ng-model="twotap_builtin_cart.billing.city" placeholder="CI">
								</div>
							</div>
							<div class="f_row">
								<label>State:</label>
								<div class="f_field editable">
									<span>{{twotap_builtin_cart.billing.state}}</span>
									<div class="dropdown_wrap">
										 <div class="defaultSt"> 

										 <select ng-model="twotap_builtin_cart.billing.state">
											<!-- <option value="CA">CA</option> -->
											<!-- <option value="AK">AK</option> -->
											<!-- <option value="AS">AS</option> -->
											<!-- <option value="AZ">AZ</option> -->
											<!-- <option value="AL">AL</option> -->
											<!-- <option value="CF">CF</option> -->
											<!-- <option value="NE">NE</option> -->
											<!-- <option value="Texas">Texas</option> -->
										    <option value="{{state}}" ng-repeat="state in country_state[twotap_builtin_cart.billing.country] track by $index">{{state}}</option>
     
										
										</select>
										</div>
								   </div>
								</div>
							</div>
							<div class="f_row">
								<label>Zip Code:</label>
								<div class="f_field editable">
									<span>{{twotap_builtin_cart.billing.zip}}</span>
									<input type="text" ng-model="twotap_builtin_cart.billing.zip" placeholder="Billing Zip">
								</div>
							</div>
							
							<div class="f_row">
								<label>Country:</label>
								<div class ="f_field editable">
									<span ng-class="item.billing_countries_support.indexOf(twotap_builtin_cart.billing.country)> -1? '' : 'invalidField'">{{twotap_builtin_cart.billing.country}}</span>
										
									<div ng-class="item.billing_countries_support.indexOf(twotap_builtin_cart.billing.country)> -1? 'dropdown_wrap' : 'dropdown_wrap invalidField'">
								
										<div class="defaultSt"> 
											<select ng-model="twotap_builtin_cart.billing.country">
											       <option value="{{country}}" ng-repeat="(country,state) in country_state track by $index">{{country}}</option>

												    <!-- <option value="Australia">Australia</option> -->
													<!-- <option value="Canada">Canada</option> -->
													<!-- <option value="Ireland">Ireland</option> -->
													<!-- <option value="Japan">Japan</option> -->
													<!-- <option value="United Kingdom">UK</option> -->
													<!-- <option value="United States of America">USA</option> -->
											</select>
										</div>
									
									</div>
								</div>
							</div>

					         <div class="f_row">
								<label>Phone:</label>
								<div class="f_field editable">
									<span>{{twotap_builtin_cart.billing.phone}}</span>
									<input type="text" placeholder="" ng-model="twotap_builtin_cart.billing.phone">
								</div>
							</div>
						</div>
						</div><!-- form wrap end-->
                        
						
						</div>
			                       
                    </div><!-- content left end -->
                    <div class="right_sidebar">
                        <div class="order_summary">
                            
						 <h2 ng-class="num_stores >1?'os_title accordion_title':''">Order Summary</h2>
                          <div ng-class="num_stores >1?'os_list_wrp':''">
                            <ul class="child-items mCustomScrollbar">
                                <li>
                                    <ul class="store_group" ng-repeat="(wsitekey,item) in twotap_builtin_cart.sites track by $index">
                                        <li>
                                            <div class="item">
                                                <div class="mini-thumb">
                                                    <a ng-click="menuShopApi('',item.info.name)" class="item-title">
													<img ng-src="{{item.info.logo}}" alt="{{item.info.name}}"></a>
                                                </div>
                                                <a ng-click="menuShopApi('',item.info.name)" class="item-title">{{item.info.name}}</a>
                                            </div>
                                            <div class="quantity">{{item.quantity_store_wise}}  Items</div>
                                            <div class="drpDown_wrp">
                                                <div class="see_detls red">SEE DETAILS</div>
                                                <div class="detls_cal">
                                                    <div class="est_total" ng-if="item.failed_sub_total_store==0"><span>Subtotal</span> {{item.estimates.prices.subtotal}}</div>
													  <div class="est_total" ng-if="(item.failed_sub_total_store>0) && (item.estimates== undefined)"><span>Subtotal</span>  {{item.failed_sub_total_store | currency:'$':true:'1.2-2' }} </div>
                                                     <div class="est_total" ng-if="(item.failed_sub_total_store>0) && (item.estimates!= undefined)"><span>Subtotal</span> {{(item.estimates.prices.subtotal.substring(1) *1.0 + failed_sub_total_store) | currency:'$':true:'1.2-2' }}</div>
                                               
                                                    <div class="est_total" ng-if="item.estimates!= undefined"><span>Shipping</span> {{item.estimates.prices.shipping_price}}</div>
													<div class="est_total" ng-if="item.estimates== undefined"><span>Shipping</span> $0</div>
                                                  
                                                    <div class="est_total" ng-if="item.estimates != undefined"><span>Taxes</span> {{item.estimates.prices.sales_tax}}</div>
													<div class="est_total" ng-if="item.estimates== undefined"><span>Taxes</span> $0</div>
                                                    <div class="est_total" ng-if="item.estimates!= undefined && item.estimates.prices.coupon_value!='applied at checkout'"><span>Est. Discount</span> -{{item.estimates.prices.coupon_value}}</div>
                                                    <div class="est_total" ng-if="item.estimates== undefined || item.estimates.prices.coupon_value=='applied at checkout'"><span>Est. Discount</span> - </div>


											   </div>
                                            </div>
                                            <div class="est_total" ng-if="item.failed_sub_total_store==0"><span>Est. Total</span> <span class="price">{{item.estimates.prices.final_price}}</span></div>
                                            <div class="est_total" ng-if="(item.failed_sub_total_store > 0) && (item.estimates== undefined)"><span>Est. Total</span> <span class="price">{{item.failed_sub_total_store | currency:'$':true:'1.2-2' }}</span></div>
                                            <div class="est_total" ng-if="(item.failed_sub_total_store > 0) && (item.estimates!= undefined)"><span>Est. Total</span> <span class="price">{{(item.estimates.prices.final_price.substring(1) *1.0 + item.failed_sub_total_store) | currency:'$':true:'1.2-2'}}</span></div>
 
										
										</li>
                                        <li ng-repeat="(prokey,proMd5) in item.add_to_cart track by $index">
                                            <div class="product-image micro">
                                                <div class="p_image_innner">
                                                    <img ng-src="{{proMd5.image}}">
                                                    <div class="rateit">
                                                        <div class="rateis r{{proMd5.rateAvg| makePositive}}">
                                                        </div>
                                                    </div>
                                                    <a class="quick-product" data-toggle="modal" data-target="#quick-popup" ng-click="set_current_product_pro_update(proMd5,item,prokey,wsitekey,'cart','add')">+</a>
                                                </div>
                                            </div>
                                            <div class="product_info">
                                                <div>{{proMd5.quantity}} {{proMd5.title}}</div>
                                                <div>{{proMd5.brand}}</div>
                                                <div>{{item.info.name}}</div>
                                                <span class="product-price"> {{proMd5.quantity* proMd5.price.substring(1) *1.0 | currency}}</span>
                                            </div>
                                        </li>
										  <li class="stock_out" ng-repeat="(prokey,proMd5) in item.failed_to_add_to_cart track by $index">
                                            <div class="product-image micro">
                                                <div class="p_image_innner">
                                                    <img ng-src="{{proMd5.image}}">
                                                    <div class="rateit">
                                                        <div class="rateis r{{proMd5.rateAvg| makePositive}}">
                                                        </div>
                                                    </div>
                                                    <a class="quick-product" data-toggle="modal" data-target="#quick-popup" ng-click="set_current_product_pro_update(proMd5,item,prokey,wsitekey,'cart','failed')">+</a>
                                                </div>
                                            </div>
                                            <div class="product_info">
                                                <div>{{proMd5.quantity}} {{proMd5.title}}</div>
                                                <div>{{proMd5.brand}}</div>
                                                <div>{{item.info.name}}</div>
                                                <span class="product-price"> {{proMd5.quantity* proMd5.price.substring(1) *1.0 | currency}}</span>
                                            </div>
                                        </li>
                                
                                    </ul>
                               
                                </li>                                
                            </ul>
					        <div class="total_cal">
                                <div class="cal_row">
                                    <span>Subtotal ({{num_items}} Items):</span>
                                    <span class="price" ng-if="failed_sub_total==0">{{estimated_price_totals.subtotal }}</span>
									<span class="price" ng-if="failed_sub_total > 0 && estimated_price_totals== undefined ">{{ failed_sub_total | currency:'$':true:'1.2-2'}}</span>
									<span class="price" ng-if="failed_sub_total > 0 && estimated_price_totals!= undefined ">{{(estimated_price_totals.subtotal.substring(1) *1.0 + failed_sub_total) | currency:'$':true:'1.2-2'}}</span>
								</div>
								 <div class="cal_row">
                                    <span>Estimated Total Shipping:</span>
                                    <span class="price" ng-if="(estimated_price_totals!= undefined)">{{estimated_price_totals.shipping_price }}</span>
                                    <span class="price" ng-if="(estimated_price_totals== undefined)">$0</span>
								</div>
                            	<div class="cal_tax">
                                    <div class="cal_row">
                                        <span>Estimated Total Tax:</span>
                                        <span class="price" ng-if="(estimated_price_totals!= undefined)">{{estimated_price_totals.sales_tax }}</span>
                                         <span class="price" ng-if="(estimated_price_totals== undefined)">$0</span>
								   </div>
                                
                                </div>
                                <div class="order_total">
                                    <span>Order Total:</span>  
                                    <span class="price" ng-if="failed_sub_total==0">{{estimated_price_totals.final_price }}</span>
									<span class="price" ng-if="estimated_price_totals==undefined && failed_sub_total> 0">{{failed_sub_total | currency:'$':true:'1.2-2'}}</span>
									<span class="price" ng-if="estimated_price_totals!=undefined && failed_sub_total> 0">{{((estimated_price_totals.final_price.substring(1) *1.0) + failed_sub_total) | currency:'$':true:'1.2-2'}}</span>


								</div>
                                <div class="order_now placeOrder_wrap">
                                    <input type="button" value="Place your order" class="btn red_btn placeOrder">
                                    <div class="popUp">
                                        <div class="btn btn_gray">REVIEW SHIPPING &amp; BILLING</div>
                                        <div class="btn btn_gray" ng-click="twotapPurchaseConfirm()">COMPLETE PURCHASE</div>
                                    </div>
                                </div>
                            </div>
                          </div>
					   </div>
                    </div>
                    <ul class="checkout_policy credit_card">
                        <li><span data-toggle="modal" data-target="#cardSafegrd" class="red">Credit Card Safeguard</span></li>
                    </ul>
                </div>
                <div class="s_bag_brand">
                    <h2>Review Items &amp; Shipping</h2>
                    <div class="checkOut_group">
                        <div ng-class="initTwotapLoaddone==0?'ss_loading':'falseClass'"></div>
            
                        <div class="s_bag_details" ng-repeat="(wsitekey,item) in twotap_builtin_cart.sites track by $index">
                            <div class="s_bag_heading">
                                <div class="stores-logo" style="background-image:url('{{item.info.logo}}');"></div>
                                <div class="item">ITEM</div>
                                <div class="color">COLOR</div>
                                <div class="size">SIZE</div>
                                <div class="price">PRICE</div>
                                <div class="qty">QTY.</div>
                                <div class="total">TOTAL</div>
                            </div>
                            <div class="s_bag_content cart {{item.info.name}}">
                                <div class="s_bag_row" ng-repeat="(prokey,proMd5) in item.add_to_cart track by $index">
                                    <div class="product-image mini">
                                        <div class="p_image_innner">
                                             <img ng-src="{{proMd5.image}}">
                                            <div class="rateit">
                                                <div class="rateis r{{proMd5.rateAvg| makePositive}}">
                                                </div>
                                            </div>
                                            <a class="quick-product" data-toggle="modal" data-target="#quick-popup" ng-click="set_current_product_pro_update(proMd5,item,prokey,wsitekey,'cart','add')">+</a>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="title"><a ng-href="{{proMd5.lnk}}">{{proMd5.title}}</a></div>
                                        <div class="title"><a>{{proMd5.brand}}</a></div>
                                        <div class="web_id">Web ID: <a ng-href="{{proMd5.lnk}}">{{proMd5.catalogId}}</a></div>
                                        <div class="bundle" ng-repeat="rname in proMd5.required_field_names track by $index" ng-if="rname!='color' && rname!='size' && rname!='quantity'">
									     {{rname}} : {{ proMd5[rname] }}
									    </div>             
                                        <div class="decide_link">
                                            <div class="btn grey_btn" ng-click="movetoSavelist(proMd5.catalogId,prokey,wsitekey,1,proMd5)">Move to Saved List</div>
                                            <div class="remove">
                                                <div class="btn cancel_btn">Remove</div> 
                                                <div class="popUp">
												  <div class="btn grey_btn" ng-click="deleteFromCartCatIdTwoVal(proMd5.catalogId,prokey,wsitekey,1)">Remove the Item</div> 
                                                    <a class="btn grey_btn" ng-click="movetoSavelist(proMd5.catalogId,prokey,wsitekey,1,proMd5)">Save for later</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
									<div class="specify_wrap">
									
										<div class="color">
                                        
											<div ng-class="proMd5.required_field_names.indexOf('color')> -1? '' : 'falseClass'"  >



											  <div class="defaultSt">
															<select ng-model="proMd5.color" ng-change="reset_size_list(proMd5,proMd5.color,$index)" >

																<option ng-repeat="itemByColor in proMd5.required_field_values.color track by $index" value="{{itemByColor.value}}">{{itemByColor.text}}</option>

															</select>
											  </div>

											</div>
											<div ng-class="proMd5.required_field_names.indexOf('color')> -1? 'falseClass' : ''"  >

														   <div class="defaultSt">
														   <select>

																<option> - </option>

															</select>
														   </div>

											</div>



                                   	 </div>



										<div class="size">

											<form>
											   <div ng-class="proMd5.required_field_names.indexOf('size')> -1? 's' : 'falseClass'"  >


												 <div class="defaultSt">
													<select ng-model="proMd5.size">

															<option ng-repeat="itemBySize in proMd5.required_field_values.size track by $index" value="{{itemBySize.value}}">{{itemBySize.text}}</option>
													</select>
												 </div>

												</div>
												<div ng-class="proMd5.required_field_names.indexOf('size')> -1? 'falseClass' : 's'"  >

												   <div class="defaultSt">
													   <select>

															<option> - </option>

														</select>
												   </div>
												</div>
											</form>

										</div>
    
                                    
										<div ng-class="proMd5.percentOff ==null || proMd5.percentOff =='' ?'price':'falseClass'">


										   <div class="org_price"> {{proMd5.price}}</div>
										</div>
									
										<div ng-class="proMd5.percentOff ==null || proMd5.percentOff =='' ?'falseClass':'price'">
											<div class="org_price">ORIG {{proMd5.orig_price}}</div>
											<div class="sale_price">SALE {{proMd5.price}}</div>

										</div>
									
									
										<div class="qty">
											<div class="dropdown_wrap">
												<form>


													<div class="defaultSt">
														<select data-ng-model="proMd5.quantity" data-ng-change="quantityChange(proMd5.quantity,twotap_builtin_cart,wsitekey,prokey,-1)" convert-to-number>
														<option value="1">1</option>
														<option value="2">2</option>
														<option value="3">3</option>
														<option value="4">4</option>
														<option value="5">5</option>
														<option value="6">6</option>
														<option value="7">7</option>
														<option value="8">8</option>
														<option value="9">9</option>
														<option value="10">10</option>
														<option value="11">11</option>
														<option value="12">12</option>
														<option value="13">13</option>
														<option value="14">14</option>
														<option value="15">15</option>
														</select>
													</div>
												</form>
											</div>
										</div>
                                    
									</div>
									
									
									<div class="ur_promotion" ng-class="((proMd5.orig_price - proMd5.price.substring(1) *1.0) *  proMd5.quantity) > 0 ?'ur_promotion':'falseClass'" ><span ng-show="proMd5.percentOff !=null && proMd5.percentOff !=''">Promotion ( {{proMd5.percentOff}}% off ! )</span> <span class="red">- {{((proMd5.orig_price - proMd5.price.substring(1) *1.0) *  proMd5.quantity)| currency}}</span> </div>
									<div class="ur_promotion" ng-class="((proMd5.orig_price - proMd5.price.substring(1) *1.0) *  proMd5.quantity) < 0 ?'ur_promotion':'falseClass'" ><span ng-show="proMd5.percentOff !=null && proMd5.percentOff !=''">Promotion ( {{proMd5.percentOff}}% off ! )</span> <span class="red">+ {{((proMd5.price.substring(1) *1.0 - proMd5.orig_price) *  proMd5.quantity)| currency}}</span> </div>

									<div class="total">
                                        <div class="total_price">{{  proMd5.quantity* proMd5.price.substring(1) *1.0 | currency}}</div>
                                    </div>
                                </div>
                                
								
                            <div class="s_bag_row stock_out" ng-repeat="(prokey,proMd5) in item.failed_to_add_to_cart track by $index">
                                <div class="product-image mini">
                                    <div class="p_image_innner">
                                        <img ng-src="{{proMd5.image}}">
                                        <div class="rateit">
                                            <div class="rateis r{{proMd5.rateAvg| makePositive}}">
                                            </div>
                                        </div>
                                        <a class="quick-product" data-toggle="modal" data-target="#quick-popup" ng-click="set_current_product_pro_update(proMd5,item,prokey,wsitekey,'cart','add')">+</a>
                                    </div>
                                </div>
                                <div class="item">
                                    <div class="title" title="{{proMd5.title}}"><a ng-href="{{proMd5.lnk}}"> {{proMd5.title}} </a>
                                    </div>


                                    <div class="title"><a>{{proMd5.brand}}</a></div>
                                    <div class="web_id" title="Web ID: {{proMd5.catalogId}}">Web ID: <a ng-href="{{proMd5.lnk}}">{{proMd5.catalogId}}</a></div>
									 <div class="bundle" ng-repeat="rname in proMd5.required_field_names track by $index" ng-if="rname!='color' && rname!='size' && rname!='quantity'">
									  {{rname}} : {{ proMd5[rname] }}
									</div>

                                    <div class="decide_link">
                                        <div class="btn grey_btn" ng-click="movetoSavelist(proMd5.catalogId,prokey,wsitekey,-1,proMd5)">Move to Saved List</div>
                                        <div class="remove">
                                            <div class="btn cancel_btn">Remove</div>
                                            <div class="popUp">
                                                <div class="btn grey_btn" ng-click="deleteFromCartCatIdTwoVal(proMd5.catalogId,prokey,wsitekey,-1)">Remove the Item</div>
                                                <a class="btn grey_btn" ng-click="movetoSavelist(proMd5.catalogId,prokey,wsitekey,-1,proMd5)">Save for later</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="specify_wrap">
                                    <div class="color">

                                        <div ng-class="proMd5.required_field_names.indexOf('color')> -1? '' : 'falseClass'">

                                            <div class="defaultSt">
                                                <select ng-model="proMd5.color" ng-change="reset_size_list(proMd5,proMd5.color,$index)">

                                                    <option ng-repeat="itemByColor in proMd5.required_field_values.color track by $index" value="{{itemByColor.value}}">{{itemByColor.text}}</option>

                                                </select>
                                            </div>

                                        </div>
                                        <div ng-class="proMd5.required_field_names.indexOf('color')> -1? 'falseClass' : ''">
                                            <div class="defaultSt">
                                                <select>

                                                    <option> -</option>

                                                </select>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="size">
                                        <div ng-class="proMd5.required_field_names.indexOf('size')> -1? '' : 'falseClass'">

                                            <div class="defaultSt">
                                                <!-- <select data-ng-model="proMd5.size" data-ng-change="requiredvalueChange(proMd5.required_field_values,twotap_builtin_cart,wsitekey,prokey,-100)"> -->
                                                <select data-ng-model="proMd5.size">

                                                    <option ng-repeat="itemBySize in proMd5.required_field_values.size track by $index" value="{{itemBySize.value}}">{{itemBySize.text}}</option>
                                                </select>
                                            </div>

                                        </div>

                                        <div ng-class="proMd5.required_field_names.indexOf('size')> -1? 'falseClass' : ''">

                                            <div class="defaultSt">
                                                <select>

                                                    <option> -</option>

                                                </select>
                                            </div>

                                        </div>

                                    </div>
                                    <div ng-class="proMd5.price ==null ?'falseClass':'price'">
                                        <div class="org_price"> {{proMd5.price}}</div>
                                    </div>


                                    <div ng-class="proMd5.price ==null ?'price':'falseClass'">
                                        <div class="org_price"> {{proMd5.orig_price|currency}}</div>


                                    </div>


                                    <div class="qty">
                                        <div class="dropdown_wrap">
                                            <form>

                                                <div class="defaultSt">
                                                    <select ng-model="proMd5.quantity" ng-change="quantityChange(proMd5.quantity,twotap_builtin_cart,wsitekey,prokey,-100)" convert-to-number>

                                                        <option value="1">1</option>
                                                        <option value="2">2</option>
                                                        <option value="3">3</option>
                                                        <option value="4">4</option>
                                                        <option value="5">5</option>
                                                        <option value="6">6</option>
                                                        <option value="7">7</option>
                                                        <option value="8">8</option>
                                                        <option value="9">9</option>
                                                        <option value="10">10</option>
                                                        <option value="11">11</option>
                                                        <option value="12">12</option>
                                                        <option value="13">13</option>
                                                        <option value="14">14</option>
                                                        <option value="15">15</option>
                                                    </select>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
								 
                                <div ng-class="proMd5.price == null ?'falseClass':'total'">
                                    <div class="total_price"> {{ proMd5.quantity * proMd5.price.substring(1) * 1.0 | currency}}</div>
                                </div>
                                <div ng-class="proMd5.price ==null ?'total':'falseClass'">

                                    <div class="total_price"> {{ proMd5.quantity * proMd5.orig_price | currency}}</div>
                                </div>


                            </div>

				           </div>
							
							
							
							<div ng-class="item.coupon_support==true || item.gift_card_support==true? '' : 'falseClass'" > 
								<div class="offers_wrap">
									<div ng-class="item.gift_card_support==true? '' :'falseClass'" > 
									    <div class="form_wrap gift_card enableField">
											<h2>Add gift card</h2>
											<div class="form_wrap_inner">
												<div class="f_row">
													<label>Gift Card:</label>
													<div class="f_field">
														<input type="text" value="" placeholder="Gift Card Number" ng-model="item.gift_cards_number">
													</div>
												</div>
												<div class="f_row">
													<label>Gift Card Code/Pin:</label>
													<div class="f_field">
														<input type="text" value="" placeholder="Gift Card Pin" ng-model="item.gift_cards_pin">
													</div>
												</div>
												<div class="f_row">
													<label class="hide_Sm"></label>
													<div class="f_field">
														<input type="submit" value="Apply" class="btn grey_btn applyBtn" ng-click="priceEstimationMerchantWise(item.info.name,-1)">
													</div>
												</div>
											</div>
										</div>
									</div>
									<!-- End Giftcard -->
									
									
									
									<div ng-class="item.coupon_support==true? '' :'falseClass'" > 
										<div class="form_wrap coupon_code">
										
										
											<h2><i class="icon bell"></i>Add Coupon Code</h2>
											<div class="form_wrap_inner">
										
											<div ng-class="item.estimates.coupons[item.coupon1].status=='invalid' || item.estimates.coupons[item.coupon1].status=='unknown' || item.estimates.coupons[item.coupon1].status=='inactive' ?'falseClass' : 'f_row'">
                                                <label>{{item.estimates.coupons[item.coupon1].label}}
                                                 </label>
												
												<div class="f_field valid" title="{{item.estimates.coupons[item.coupon1].status}}">
                                                    <input type="text" placeholder="Update 1st coupon code" ng-model="item.coupon1">
												   <div ng-class="item.estimates.coupons[item.coupon1].status=='valid'?'valid_checkMark' : 'falseClass'" title="Verified"></div>
												</div>
								
												
                                            </div>
											<div ng-class="item.estimates.coupons[item.coupon1].status=='invalid' || item.estimates.coupons[item.coupon1].status=='unknown' || item.estimates.coupons[item.coupon1].status=='inactive' ?'f_row' : 'falseClass'">
                                            
												  <label class="red">Invalid code &nbsp; {{item.estimates.coupons[item.coupon1].label}}
                                                 </label>
																	 
											
												<div class="f_field invalid" title="{{item.estimates.coupons[item.coupon1].status}}">
                                                    <input type="text" placeholder="Enter 1st coupon code" ng-model="item.coupon1" ng-change="remove_invalid(item.coupon1,1)">
  												   <div class="invalid_cross" title="{{item.estimates.coupons[item.coupon1].status}}"></div>

												</div>
												
												
												
                                            </div>
												
											

										
												
												
											<div ng-class="item.estimates.coupons[item.coupon2].status=='invalid' || item.estimates.coupons[item.coupon2].status=='unknown' || item.estimates.coupons[item.coupon2].status=='inactive' ?'falseClass' : 'f_row'">
                                                <label>{{item.estimates.coupons[item.coupon2].label}}</label>
												
												 
												 
												
												<div class="f_field valid" title="{{item.estimates.coupons[item.coupon2].status}}">
                                                    <input type="text" placeholder="Update 2nd coupon code" ng-model="item.coupon2">
												   <div ng-class="item.estimates.coupons[item.coupon2].status=='valid'?'valid_checkMark' : 'falseClass'" title="Verified"></div>
												</div>
								
												
												
												
                                            </div>
											<div ng-class="item.estimates.coupons[item.coupon2].status=='invalid' || item.estimates.coupons[item.coupon2].status=='unknown' || item.estimates.coupons[item.coupon2].status=='inactive' ?'f_row' : 'falseClass'">
                                            
												  <label class="red">Invalid code &nbsp; {{item.estimates.coupons[item.coupon2].label}}
                                                 </label>
																	 
											
												<div class="f_field invalid" title="{{item.estimates.coupons[item.coupon2].status}}">
                                                    <input type="text" placeholder="Update 2nd coupon code" ng-model="item.coupon2" ng-change="remove_invalid(item.coupon2,2)">
  												   <div class="invalid_cross" title="{{item.estimates.coupons[item.coupon2].status}}"></div>

												</div>
												
												
												
                                            </div>
											
											
												
											<div ng-class="item.estimates.coupons[item.coupon3].status=='invalid' || item.estimates.coupons[item.coupon3].status=='unknown' || item.estimates.coupons[item.coupon3].status=='inactive' ?'falseClass' : 'f_row'">
                                                <label>{{item.estimates.coupons[item.coupon3].label}}  </label>
											
												
												<div class="f_field valid" title="{{item.estimates.coupons[item.coupon3].status}}">
                                                    <input type="text" placeholder="Update 3rd coupon code" ng-model="item.coupon3">
												   <div ng-class="item.estimates.coupons[item.coupon3].status=='valid'?'valid_checkMark' : 'falseClass'" title="Verified"></div>
												</div>
								
                                            </div>
											<div ng-class="item.estimates.coupons[item.coupon3].status=='invalid' || item.estimates.coupons[item.coupon3].status=='unknown' || item.estimates.coupons[item.coupon3].status=='inactive' ?'f_row' : 'falseClass'">
                                            
												  <label class="red">Invalid code &nbsp; {{item.estimates.coupons[item.coupon3].label}}
                                                 </label>
																	 
											
												<div class="f_field invalid" title="{{item.estimates.coupons[item.coupon3].status}}">
                                                    <input type="text" placeholder="Update 3rd coupon code" ng-model="item.coupon3" ng-change="remove_invalid(item.coupon3,3)">
  												   <div class="invalid_cross" title="{{item.estimates.coupons[item.coupon3].status}}"></div>

												</div>
												
												
												
                                            </div>
											
											<div ng-class="item.estimates.coupons[item.coupon4].status=='invalid' || item.estimates.coupons[item.coupon4].status=='unknown' || item.estimates.coupons[item.coupon4].status=='inactive' ?'falseClass' : 'f_row'">
                                                <label>{{item.estimates.coupons[item.coupon4].label}}
                                                 </label>
											
												<div class="f_field valid" title="{{item.estimates.coupons[item.coupon4].status}}">
                                                    <input type="text" placeholder="Update 4th coupon code" ng-model="item.coupon4">
												   <div ng-class="item.estimates.coupons[item.coupon4].status=='valid'?'valid_checkMark' : 'falseClass'" title="Verified"></div>
												</div>
									
                                            </div>
											<div ng-class="item.estimates.coupons[item.coupon4].status=='invalid' || item.estimates.coupons[item.coupon4].status=='unknown' || item.estimates.coupons[item.coupon4].status=='inactive' ?'f_row' : 'falseClass'">
                                            
												  <label class="red">Invalid code &nbsp; {{item.estimates.coupons[item.coupon4].label}}
                                                 </label>
																	 
											
												<div class="f_field invalid" title="{{item.estimates.coupons[item.coupon4].status}}">
                                                    <input type="text" placeholder="Update 4th coupon code" ng-model="item.coupon4" ng-change="remove_invalid(item.coupon4,4)">
  												   <div class="invalid_cross" title="{{item.estimates.coupons[item.coupon4].status}}"></div>

												</div>
												
												
												
                                            </div>
												
									
												<div class="f_row">
													<label></label>
												   <!--  <div class="f_field">
														<input type="submit" value="Update" class="btn grey_btn applyBtn">
													</div> -->
													 <div class="f_field">
														<input type="submit" value="Update" class="btn grey_btn applyBtn" ng-click="priceEstimationMerchantWise(item.info.name,-1)">
													</div>
													
												</div>
											</div>
										</div>
									
									     
									     
									
									
									
									</div>
									<!-- End Coupon code -->
								</div>
							</div>	
                            <div class="costing_wrap">
                                <div class="checkOut_box">
                                    <div class="checkOut_box_inner">
                                        <form>
                                            <div class="subtotal-header">
                                                <div class="fl">
                                                    <span class="sub-left">Subtotal:</span>{{item.estimates.prices.subtotal}} ({{item.quantity_store_wise}} items)
                                                </div>
                                            </div>
                                            <div class="subtotal-shipping">
                                                <div class="subtotal-shipping-label">Shipping:</div>
                                                <ul class="subtotal-list">
                                               
                                                    <li ng-repeat="(key, shippingOption) in item.shipping_options track by $index" >
                                            
                                                    <input type="radio" name="radio-shipping_{{wsitekey}}" id="ship_{{wsitekey}}{{$index}}" ng-model="item.shipping_option" value="{{key}}" ng-click="priceEstimationMerchantWise(item.info.name,-1)">
                                                            <label for="ship_{{wsitekey}}{{$index}}">{{shippingOption}} - {{shipping_chrg[wsitekey][key]}}</label>
                                                    </li>
                                    
                                               
                                                </ul>
                                            </div>
                                            <div class="charge-info">
                                                <ul class="charge-list clearfix">
                                                   
                                                    
													<li ng-class="(item.estimates!= undefined)?'' : 'falseClass'">
													<span>Estimated Shipping charges:</span>
													<span>{{item.estimates.prices.shipping_price}}</span>
													</li>
													<li ng-class="(item.estimates== undefined)?'' : 'falseClass'">
														<span>Estimated Shipping charges:</span>
														<span>$0</span>
													</li>
													
												
													  <li class="estm_txt" ng-class="(item.estimates!= undefined)?'' : 'falseClass'">
														<span>Estimated Taxes: </span>
														<span>{{item.estimates.prices.sales_tax}}</span>
													</li>
													<li class="estm_txt" ng-class="(item.estimates== undefined)?'' : 'falseClass'">
														<span>Estimated Taxes: </span>
														<span>$0</span>
													</li>
													
													
                                                    <li class="estm_txt">
                                                        <span>Estimated Discount:</span>
                                                        <span ng-if="item.estimates!= undefined && item.estimates.prices.coupon_value!='applied at checkout'">-{{item.estimates.prices.coupon_value}}</span>
                                                        <span ng-if="item.estimates== undefined || item.estimates.prices.coupon_value=='applied at checkout'">-</span>

													
													</li>
                                                
												</ul>
                                            </div>

                                            <div class="subtotal-before-tax clearfix">
                                                <div>
                                                    <span class="fl"><b>Estimated Total:</b> </span>
                                                    <span class="fr red" ng-if="item.failed_sub_total_store==0">{{item.estimates.prices.final_price}}</span>
                                                     <span class="fr red" ng-if="item.failed_sub_total_store > 0 && item.estimates== undefined">{{item.failed_sub_total_store | currency:'$':true:'1.2-2' }} </span>
                                                     <span class="fr red" ng-if="item.failed_sub_total_store > 0 && item.estimates!= undefined">{{(item.estimates.prices.final_price.substring(1) *1.0 + item.failed_sub_total_store) | currency:'$':true:'1.2-2'}} </span>

												
												</div>
                                            </div>
                                     
                                          
										  
                                                <div>
                                                   <span data-toggle="modal" data-target="#returnPolicy"><u><a ng-click="return_policy(item.returns,item.info.name,item.info.logo)">Return Policy</a></u></span>
                                                </div>
                                        
										
										</form>
                                    </div>
                                    
                                </div>
                            </div>
                        <!-- Repeat this div -->
              
						<div ng-class="num_stores>1? 'form_wrap' :'falseClass'" > 
						
                            <span id="rev"></span>

                             <div class="bs_heading"> 
                                  <div>Shipping</div> 
								<div class="stores-logo" style="background-image:url({{item.info.logo}});"></div> 
                              
                            </div>
							
							
							<div class="form_wrap_inner">
                                <div class="btn grey_btn changeBtn">Update</div>
                                <div class="f_row">
                                    <label>Email:</label>
                                    <div class="f_field editable">
                                        <span>{{item.shipping.email}}</span>
                                        <input type="text" ng-model="item.shipping.email" placeholder="" >
                                    </div>
                                </div>
                                <div class="f_row">
                                    <label>First Name:</label>
                                    <div class="f_field editable">
                                        <span>{{item.shipping.firstname}}</span>
                                        <input type="text" ng-model="item.shipping.firstname" placeholder="">
                                    </div>
                                </div>
                                <div class="f_row">
                                    <label>Last Name:</label>
                                    <div class="f_field editable">
                                        <span>{{item.shipping.lastname}}</span>
                                        <input type="text" ng-model="item.shipping.lastname" placeholder="">
                                    </div>
                                </div>
                                <div class="f_row">
                                    <label>Address:</label>
                                    <div class="f_field editable">
                                        <div class="input_line">
                                            <span>{{item.shipping.address1}}</span>
                                            <input type="text" ng-model="item.shipping.address1" placeholder="">
                                        </div>
                                        <div class="input_line">
                                            <span> {{item.shipping.address2}}</span>
                                            <input type="text" placeholder="" ng-model="item.shipping.address2" >
                                        </div>
                                    </div>
                                </div>
                                <div class="f_row">
                                    <label>City:</label>
                                    <div class="f_field editable">
                                        <span>{{item.shipping.city}}</span>
                                        <input type="text" ng-model="item.shipping.city" placeholder="">
                                    </div>
                                </div>
                                <div class="f_row">
                                    <label>State:</label>
                                    <div class="f_field editable">
                                        <span>{{item.shipping.state}}</span>
                                        <div class="dropdown_wrap">
                                           <div class="defaultSt"> 
											<select ng-model="item.shipping.state">
                                               
                                              <option value="{{state}}" ng-repeat="state in country_state[item.shipping.country] track by $index">{{state}}</option>
										 
                                            </select>
                                            </div>                                        
									   </div>
                                    </div>
                                </div>
                                <div class="f_row">
                                    <label>Zip Code:</label>
                                    <div class="f_field editable">
                                        <span>{{item.shipping.zip}}</span>
                                        <input type="text" ng-model="item.shipping.zip" placeholder="">
                                    </div>
                                </div>
                               
                                <div class="f_row">
                                    <label>Country:</label>
                                    

									<div class="f_field editable">
                                        <span ng-class="item.shipping_countries_support.indexOf(item.shipping.country)> -1? '' : 'invalidField'">{{item.shipping.country}}</span>
								

										<div ng-class="item.shipping_countries_support.indexOf(item.shipping.country)> -1? 'dropdown_wrap' : 'dropdown_wrap invalidField'">
										    <div class="defaultSt">  
												<select ng-model="item.shipping.country">
													<!-- <option value="Australia">Australia</option> -->
                                                    <!-- <option value="Canada">Canada</option> -->
                                                    <!-- <option value="Ireland">Ireland</option> -->
                                                    <!-- <option value="Japan">Japan</option> -->
                                                    <!-- <option value="United Kingdom">UK</option> -->
                                               	   <option value="{{country}}" ng-repeat="(country,state) in country_state track by $index">{{country}}</option>
													
												</select>
                                            </div> 
										
										</div>
                                    </div>
                                </div>
								<div class="f_row">
                                    <label>Phone:</label>
                                    <div class="f_field editable">
                                        <span>{{item.shipping.phone}}</span>
                                        <input type="text" ng-model="item.shipping.phone" placeholder="">
                                    </div>
                                </div>

						   



						   </div>
                        </div>

						<div ng-class="num_stores>1? 'form_wrap' :'falseClass'">
                           
                             <div class="bs_heading"> 
                                <div>Billing</div> 
								<div class="stores-logo" style="background-image:url('{{item.info.logo}}');"></div> 
                                
                            </div>

						   <div class="form_wrap_inner">
                                <div class="btn grey_btn changeBtn">Update</div>

                                
                                <div class="f_row">
                                    <label>Name On Card:</label>
                              
									 <div class="f_field">
                                        <input type="text" ng-model="item.card.name" placeholder="Name On Card">
                                    </div>
                                </div>
								
								
								<div class="f_row gateway_name">
                                    <label>Card Type:</label>
                                    <div class="f_field">
                                        <div>
                                            <input type="radio" id="pay1{{wsitekey}}" name="p_gateway{{wsitekey}}" value="Visa" ng-model="item.card.type">
                                            <label for="pay1{{wsitekey}}"><img src="images/visa_icon.png" title="Visa Card"></label>
                                        </div>
                                        <div>
                                            <input type="radio" id="pay2{{wsitekey}}" name="p_gateway{{wsitekey}}" value="Mastercard" ng-model="item.card.type">
                                            <label for="pay2{{wsitekey}}"><img src="images/master_card.png" title="Master Card"></label>
                                        </div>
                                        <div>
                                            <input type="radio" id="pay3{{wsitekey}}" name="p_gateway{{wsitekey}}" value="American Express" ng-model="item.card.type">
                                            <label for="pay3{{wsitekey}}"><img src="images/american_express.png" title="American Express"></label>
                                        </div>
                                    <!--     <div>
                                            <input type="radio" id="pay4" name="p_gateway"  ng-model="item.card.type">
                                            <label for="pay4"><img src="images/visa_icon.png" title="Visa Card"></label>
                                        </div> -->
                                    </div>
                                </div>


                                <div class="f_row">
                                    <label>Card No:</label>
                                
									<div ng-class="item.card_valid==0? 'f_field invalid' :'falseClass'">
									     <input type="text" value="" placeholder="Enter a Valid Card No" ng-model="item.card.card_number" ng-blur="card_validate(item,item.card.card_number)">
                                        <div class="invalid_cross" title="Invalid"></div>
									</div>
									<div ng-class="item.card_valid==0? 'falseClass' :'f_field'">
									     <input type="text" value="" placeholder="Enter Supported Card No" ng-model="item.card.card_number" ng-blur="card_validate(item,item.card.card_number)">
                                      
									</div>
<!-- 									{{ item.card.card_number | validate }}
 -->									
                                </div>


                                <div class="f_row">
                                    <label>Expiry Month:</label>
                                    <div class="f_field">
                                        <div class="dropdown_wrap">
                                            <div class="defaultSt">
                                              <select ng-model="item.card.month" >
                                                <option>Month</option>
                                                <option value="01">1</option>
                                                <option value="02">2</option>
                                                <option value="03">3</option>
                                                <option value="04">4</option>
                                                <option value="05">5</option>
                                                <option value="06">6</option>
                                                <option value="07">7</option>
                                                <option value="08">8</option>
                                                <option value="09">9</option>
                                                <option value="10">10</option>
                                                <option value="11">11</option>
                                                <option value="12">12</option>
                                            </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="f_row">
                                    <label>Expiry Year:</label>
                                    <div class="f_field">
                                        <div class="dropdown_wrap">
                                            <div class="defaultSt">
                                               <select ng-model="item.card.year" >
                                                <option>Year</option>
                                                <option value="2022">2022</option>
                                                <option value="2021">2020</option>
                                                <option value="2019">2019</option>
                                                <option value="2018">2018</option>
                                                <option value="2017">2017</option>
                                                <option value="2016">2016</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            

                                <div class="f_row cc_value">
                                    <label>CCV:</label>
                                    <div class="f_field">
                                        <input type="text" placeholder="" value="" ng-model="item.card.cvv">
                                    </div>
                                </div>
                                
								<div class="f_row">
                                    <label>First Name:</label>
                                    <div class="f_field editable">
                                        <span>{{item.billing.firstname}}</span>
                                        <input type="text" ng-model="item.billing.firstname" placeholder="First Name">
                                    </div>
                                </div>
                                <div class="f_row">
                                    <label>Last Name:</label>
                                    <div class="f_field editable">
                                        <span>{{item.billing.lastname}}</span>
                                        <input type="text" ng-model="item.billing.lastname" placeholder="Last Name">
                                    </div>
                                </div>

                               <div class="f_row">
                                    <label>Billing Address:</label>
                                    <div class="f_field editable">
                                        <div class="input_line">
                                            <span>{{item.billing.address1}}</span>
                                            <input type="text" ng-model="item.billing.address1" placeholder="Update Address Line 1">
                                        </div>
                                        <div class="input_line">
                                            <span>{{item.billing.address2}}</span>
                                            <input type="text" ng-model="item.billing.address2" placeholder="Update Address Line 2">
                                        </div>
                                    </div>
                                </div>
                                <div class="f_row">
                                    <label>City:</label>
                                    <div class="f_field editable">
                                        <span ng-bind="item.billing.city"></span>
                                        <input type="text" ng-model="item.billing.city" placeholder="Update City">
                                    </div>
                                </div>
                               
                                  <div class="f_row">
                                    <label>State:</label>
                                    <div class="f_field editable">
                                        <span ng-bind="item.billing.state"></span>
                                        <div class="dropdown_wrap">
                                             <div class="defaultSt"> 
   
										     <select ng-model="item.billing.state">
                                               
											   
											    <option value="{{state}}" ng-repeat="state in country_state[item.billing.country] track by $index">{{state}}</option>

                                            </select>
                                            </div>
									   </div>
                                    </div>
                                </div>
                                <div class="f_row">
                                    <label>Zip Code:</label>
                                    <div class="f_field editable">
                                        <span>{{item.billing.zip}}</span>
                                        <input type="text" ng-model="item.billing.zip" placeholder="Billing Zip">
                                    </div>
                                </div>
                            
                         
                       
                         
                         
                                <div class="f_row">
                                    <label>Country:</label>
                                    <div class="f_field editable">
                                        <span ng-class="item.billing_countries_support.indexOf(item.billing.country)> -1? '' : 'invalidField'">{{item.billing.country}}</span>

                                        <div ng-class="item.billing_countries_support.indexOf(item.billing.country)> -1? 'dropdown_wrap' : 'dropdown_wrap invalidField'">

                                            <div class="defaultSt" >
                                                <select ng-model="item.billing.country">
                                                  <option value="{{country}}" ng-repeat="(country,state) in country_state track by $index">{{country}}</option>

                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
								<div class="f_row">
                                    <label>Phone:</label>
                                    <div class="f_field editable">
                                        <span>{{item.billing.phone}}</span>
                                        <input type="text" placeholder="phone" ng-model="item.billing.phone">
                                    </div>
                                </div>

                            </div>
                        </div>
						

                     </div>
                        <!-- Repeat this div -->
                    </div>
                </div>
                <!-- Bloomingdale -->

                <div class="order_box">
                    <div class="placeOrder_wrap">
                        <input type="button" value="Place your order" class="btn red_btn placeOrder">
                        <div class="popUp">
                            <div class="btn btn_gray" ng-click="review()">REVIEW SHIPPING &amp; BILLING</div>
                            <div class="btn btn_gray" ng-click="twotapPurchaseConfirm()">COMPLETE PURCHASE</div>
                        </div>
                    </div>
               
                <div class="order_total" ng-class="failed_sub_total== 0? '' : 'falseClass'">Total: <span class="price">{{estimated_price_totals.final_price }}</span></div>
                <div class="order_total" ng-class="failed_sub_total> 0 && estimated_price_totals== undefined ? '': 'falseClass'">Total: <span class="price">{{ failed_sub_total  | currency:'$':true:'1.2-2' }}</span></div>
                <div class="order_total" ng-class="failed_sub_total> 0 && estimated_price_totals!= undefined ? '': 'falseClass'">Total: <span class="price">{{(estimated_price_totals.final_price.substring(1) *1.0 + failed_sub_total) | currency:'$':true:'1.2-2' }}</span></div>
        

			   </div>


            </section>

            <!-- Only for mobile -->
        <div class="section_bottom dsktp_hide">
            <div class="recent_summary clearfix">
                <h2>RECENTLY VIEWED</h2>


                <div class="nav_carousel">
                    <div class="carousel mini_thumb_slider">

                        <ul class="stage_nav">

                            <li ng-repeat="arrObj in recentItems">
                                <div ng-repeat="arrItem in arrObj.timestamp track by $index">


                                    <div class="product-image mini">
                                        <div class="p_image_innner">
                                            <img ng-src="{{arrItem.image_url}}"
                                                 title="{{arrItem.keyword}}  by {{arrItem.merchant}}">
                                            <div class="rateit">
                                                <div class="rateis r{{arrItem.rateAvg| makePositive}}">
                                                </div>
                                            </div>
                                            <a class="quick-product" data-toggle="modal" data-target="#quick-popup"
                                               ng-click="set_current_product_common_sim('','','','',arrItem)">+</a>
                                        </div>
                                    </div>
                                    <div class="caption"><a ng-click="menuShopApi('',arrItem.merchant)"> {{ arrItem.keyword | limitTo: 20 }}{{arrItem.keyword.length > 20 ? '...' : ''}}</a>
                                    </div>


                                </div>
                            </li>

                        </ul>
                    </div>
                </div>
            </div>

                <div class="recent_summary clearfix">
                    <h2><a href="#saved" class="goTarget">SAVED</a></h2>
                    <div class="nav_carousel">
                        <div class="carousel mini_thumb_slider">
                            <ul class="stage_nav">
                                 <li ng-repeat="item in saveprofile2 track by $index">
								
									   <div class="product-image mini">
											<div class="p_image_innner">
												<img ng-src="{{item.product[0].image_url}}" alt="">
												<div class="rateit">
													<div class="rateis r{{item.product[0].rateAvg| makePositive}}">
													</div>
												</div>
											     <a class="quick-product" data-toggle="modal" data-target="#quick-popup" ng-click="set_current_product_common_sim('','','','',item.product[0])">+</a>

											
											</div>
										</div>
										<div class="caption"><a>{{item.keyword}}</a></div>
									
									
								
								</li>  

                                
                            </ul>
                        </div>
                    </div>
                </div>
        </div>



        </div>

    </div>
